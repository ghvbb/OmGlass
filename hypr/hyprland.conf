# Learn how to configure Hyprland: https://wiki.hyprland.org/Configuring/

# Use defaults Omarchy defaults (but don't edit these directly!)
source = ~/.local/share/omarchy/default/hypr/autostart.conf
source = ~/.local/share/omarchy/default/hypr/bindings/media.conf
source = ~/.local/share/omarchy/default/hypr/bindings/clipboard.conf
source = ~/.local/share/omarchy/default/hypr/bindings/tiling-v2.conf
source = ~/.local/share/omarchy/default/hypr/bindings/utilities.conf
source = ~/.local/share/omarchy/default/hypr/envs.conf
source = ~/.local/share/omarchy/default/hypr/looknfeel.conf
source = ~/.local/share/omarchy/default/hypr/input.conf
source = ~/.local/share/omarchy/default/hypr/windows.conf
source = ~/.config/omarchy/current/theme/hyprland.conf

# Change your own setup in these files (and overwrite any settings from defaults!)
source = ~/.config/hypr/monitors.conf
source = ~/.config/hypr/input.conf
source = ~/.config/hypr/bindings.conf
source = ~/.config/hypr/looknfeel.conf
source = ~/.config/hypr/autostart.conf

# Add any other personal Hyprland configuration below
# windowrule = workspace 5, class:qemu
layerrule = ignorezero 0.4.2, waybar
layerrule = blur, waybar
layerrule = xray 1, waybar

windowrulev2 = float, class:^(pavucontrol)$
windowrulev2 = float, class:^(blueman-manager)$
windowrulev2 = float, class:^(nm-connection-editor)$
windowrulev2 = float, class:^(zenity)$
# windowrulev2 = float, class:^(chromium)$
windowrulev2 = float, class:^(thunar)$
# windowrulev2 = float, title:^(btop)$
windowrulev2 = opacity 0.6 0.5, class:^(com.mitchellh.ghostty)$ # شفافية عالية للـ Liquid Look
windowrulev2 = float, title:^(Aggiornamenti)$
# windowrulev2 = animation popin, class:^(kitty)$, title:^(Aggiornamenti)$
# windowrulev2 = animation popin, class:^(thunar)$
windowrulev2 = opacity 0.95 0.8, class:^(thunar)$
windowrulev2 = opacity 0.95 0.8, class:^(VSCodium)$
windowrulev2 = opacity 0.95 0.6, animation popin, class:^(chromium)$
windowrulev2 = move cursor -3% -105%, class:^(rofi)$
windowrulev2 = noanim, class:^(rofi)$
windowrulev2 = opacity 0.95 0.8, class:^(rofi)$
windowrulev2 = float, class:^(unityhub)$
windowrulev2 = float, title:(Media Viewer)
# Apply transparency and blur to Chromium
# # Force transparency and blur for Chromium
windowrulev2 = opacity 0.85 0.8, class:^(chromium)$

# بدلاً من vrr، استخدم هذه الأوامر لتحسين الاستجابة فوق الزجاج
windowrulev2 = immediate, class:^(chromium)$
windowrulev2 = noanim, class:^(chromium)$, title:^(.*YouTube.*)$ # اختيارياً: تعطيل الأنميشن أثناء الفيديو لزيادة الأداء

layerrule = blur, walker
layerrule = ignorealpha 0.4, walker
layerrule = xray 1, walker

# --- قواعد الزجاج لتطبيقات GNOME ---

# 1. تفعيل الشفافية والبلور لكل تطبيقات GTK/GNOME
windowrulev2 = opacity 0.85 0.8, class:^(org.gnome.*)$

# 2. استهداف gnome-clocks تحديداً إذا لزم الأمر
windowrulev2 = opacity 0.8 0.75, class:^(org.gnome.clocks)$

windowrulev2 = xray 1, class:^(org.gnome.*)$

render {
    # تفعيل المزامنة المباشرة (إذا كان كرتك Nvidia استخدم 1 أو 2)
}

opengl {
    nvidia_anti_flicker = true # فقط إذا كان كرتك Nvidia
}

misc {
    vrr = 1 # تفعيل VRR للنظام ككل بدلاً من نافذة واحدة
    always_follow_on_dnd = true
}


windowrulev2 = opacity 0.85 0.75, class:^(waybar)$

# جعل البلور يخترق الشريط لترى الخلفية (Xray)
windowrulev2 = xray 1, class:^(waybar)$

# منع أي قلتشات عند الحواف (دقة عالية للسائل)

# لجعل Waybar يطفو فوق النوافذ بشكل سائل (Floating Effect)
windowrulev2 = float, class:^(waybar)$


bind = SUPER , H, exec,  grim -g "$(slurp)" - | satty -f - -o ~/Pictures/satty-$(date '+%Y%m%d-%H%M%S').png


# --- GNOME Apps Liquid Rules ---

# قاعدة شاملة لكل تطبيقات GNOME (Nautilus, Clocks, Calc)
windowrulev2 = opacity 0.82 0.75, class:^(org.gnome.*)$
windowrulev2 = xray 1, class:^(org.gnome.*)$

# تخصيص Nautilus ليكون أكثر شفافية (لأنه يحتوي على مساحات بيضاء كبيرة)
windowrulev2 = opacity 0.80 0.70, class:^(org.gnome.Nautilus)$

# تخصيص الحاسبة والساعة لتبدو كـ Widgets طافية
windowrulev2 = float, class:^(org.gnome.Calculator|org.gnome.clocks)$
windowrulev2 = size 400 600, class:^(org.gnome.Calculator)$


env = GS_DEVICE,intel
env = WEBKIT_DISABLE_COMPOSITING_MODE,1 # يسرع واجهات GTK4 الشفافة


